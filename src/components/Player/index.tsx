// Vendors
import ReactPlayer from 'react-player'
import { usePlayer } from 'contexts/player'

// Components
import { AspectRatio, Box } from '@chakra-ui/react'

// Types
export type PlayerProps = {
  url: string
}

/*
|-----------------------------------------------------------------------------
| Component
|-----------------------------------------------------------------------------
|
|
*/

export const Player = (props: PlayerProps) => {
  /*
  |-----------------------------------------------------------------------------
  | Constants
  |-----------------------------------------------------------------------------
  |
  |
  */
  const { url } = props

  const { hidePlayer } = usePlayer()

  /*
  |-----------------------------------------------------------------------------
  | States
  |-----------------------------------------------------------------------------
  |
  |
  */

  /*
  |-----------------------------------------------------------------------------
  | Functions
  |-----------------------------------------------------------------------------
  |
  |
  */

  /*
  |-----------------------------------------------------------------------------
  | Effects
  |-----------------------------------------------------------------------------
  |
  |
  */

  /*
  |-----------------------------------------------------------------------------
  | Memos
  |-----------------------------------------------------------------------------
  |
  |
  */

  /*
  |-----------------------------------------------------------------------------
  | Renders
  |-----------------------------------------------------------------------------
  |
  |
  */
  return (
    <Box
      position="fixed"
      w="100vw"
      h="100%"
      top={0}
      right={0}
      d="flex"
      alignItems="center"
      justifyContent="center"
      backgroundColor="rgba(0, 0, 0, 0.9)"
      zIndex="1000"
      mt={0}
      onClick={hidePlayer}
    >
      <AspectRatio w={{ base: '90%', md: '70%' }} ratio={16 / 9}>
        <ReactPlayer controls url={url} playing width="100%" height="100%" />
      </AspectRatio>
    </Box>
  )
}
